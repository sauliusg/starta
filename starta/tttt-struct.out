ALLOC TNODE: allocating tnode serno = 1
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl() [0x5602cb]
	  2: ./sl(new_tnode+0x18) [0x562d51]
	  3: ./sl(new_tnode_forward+0xea) [0x562e7b]
	  4: ./sl() [0x43857c]
	  5: ./sl(yyparse+0x14ee9) [0x44dbca]
	  6: ./sl() [0x462d87]
	  7: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  8: ./sl(main+0xa5d) [0x412de2]
	  9: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 10: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl() [0x419581]
	  3: ./sl() [0x419bd9]
	  4: ./sl() [0x4385ee]
	  5: ./sl(yyparse+0x14ee9) [0x44dbca]
	  6: ./sl() [0x462d87]
	  7: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  8: ./sl(main+0xa5d) [0x412de2]
	  9: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 10: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(dispose_tnode+0x67) [0x561482]
	  3: ./sl() [0x41990c]
	  4: ./sl() [0x419bd9]
	  5: ./sl() [0x4385ee]
	  6: ./sl(yyparse+0x14ee9) [0x44dbca]
	  7: ./sl() [0x462d87]
	  8: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  9: ./sl(main+0xa5d) [0x412de2]
	 10: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 11: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl(yyparse+0x14f2f) [0x44dc10]
	  3: ./sl() [0x462d87]
	  4: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 3
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl(yyparse+0x133fa) [0x44c0db]
	  3: ./sl() [0x462d87]
	  4: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl(yyparse+0x13410) [0x44c0f1]
	  3: ./sl() [0x462d87]
	  4: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(yyparse+0x13504) [0x44c1e5]
	  3: ./sl() [0x462d87]
	  4: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl(yyparse+0x13635) [0x44c316]
	  3: ./sl() [0x462d87]
	  4: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 5
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl() [0x419581]
	  3: ./sl() [0x419bd9]
	  4: ./sl() [0x42cfb4]
	  5: ./sl(yyparse+0x17462) [0x450143]
	  6: ./sl() [0x462d87]
	  7: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  8: ./sl(main+0xa5d) [0x412de2]
	  9: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 10: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 5
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(dispose_tnode+0x67) [0x561482]
	  3: ./sl(typetab_insert_suffix+0x33d) [0x57ef99]
	  4: ./sl() [0x419626]
	  5: ./sl() [0x419bd9]
	  6: ./sl() [0x42cfb4]
	  7: ./sl(yyparse+0x17462) [0x450143]
	  8: ./sl() [0x462d87]
	  9: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	 10: ./sl(main+0xa5d) [0x412de2]
	 11: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 12: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(dispose_tnode+0x67) [0x561482]
	  3: ./sl() [0x41990c]
	  4: ./sl() [0x419bd9]
	  5: ./sl() [0x42cfb4]
	  6: ./sl(yyparse+0x17462) [0x450143]
	  7: ./sl() [0x462d87]
	  8: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  9: ./sl(main+0xa5d) [0x412de2]
	 10: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 11: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl() [0x42d036]
	  3: ./sl(yyparse+0x17462) [0x450143]
	  4: ./sl() [0x462d87]
	  5: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  6: ./sl(main+0xa5d) [0x412de2]
	  7: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  8: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 5
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl() [0x41b24e]
	  3: ./sl() [0x42d05c]
	  4: ./sl(yyparse+0x17462) [0x450143]
	  5: ./sl() [0x462d87]
	  6: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  7: ./sl(main+0xa5d) [0x412de2]
	  8: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  9: ./sl(_start+0x29) [0x4114f9]
SHARE TNODE: sharing tnode serno = 1, new rcount = 6
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl() [0x419581]
	  3: ./sl() [0x41b29b]
	  4: ./sl() [0x42d05c]
	  5: ./sl(yyparse+0x17462) [0x450143]
	  6: ./sl() [0x462d87]
	  7: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  8: ./sl(main+0xa5d) [0x412de2]
	  9: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 10: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 6
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(dispose_tnode+0x67) [0x561482]
	  3: ./sl() [0x41990c]
	  4: ./sl() [0x41b29b]
	  5: ./sl() [0x42d05c]
	  6: ./sl(yyparse+0x17462) [0x450143]
	  7: ./sl() [0x462d87]
	  8: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  9: ./sl(main+0xa5d) [0x412de2]
	 10: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 11: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 5
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(dispose_tnode+0x67) [0x561482]
	  3: ./sl() [0x41b463]
	  4: ./sl() [0x42d05c]
	  5: ./sl(yyparse+0x17462) [0x450143]
	  6: ./sl() [0x462d87]
	  7: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  8: ./sl(main+0xa5d) [0x412de2]
	  9: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	 10: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 4
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl() [0x42d073]
	  3: ./sl(yyparse+0x17462) [0x450143]
	  4: ./sl() [0x462d87]
	  5: ./sl(new_thrcode_from_file+0x186) [0x46373b]
	  6: ./sl(main+0xa5d) [0x412de2]
	  7: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  8: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 3
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl() [0x57e876]
	  3: ./sl() [0x57e8d0]
	  4: ./sl(delete_typetab+0x43) [0x57e9df]
	  5: ./sl() [0x413f37]
	  6: ./sl(new_thrcode_from_file+0x2a9) [0x46385e]
	  7: ./sl(main+0xa5d) [0x412de2]
	  8: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  9: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl() [0x57e876]
	  3: ./sl() [0x57e8d0]
	  4: ./sl(delete_typetab+0x43) [0x57e9df]
	  5: ./sl() [0x413f37]
	  6: ./sl(new_thrcode_from_file+0x2a9) [0x46385e]
	  7: ./sl(main+0xa5d) [0x412de2]
	  8: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  9: ./sl(_start+0x29) [0x4114f9]
STRPOOL LENGTH: 4
MAX DNODES: 19 (still allocated 0)
MAX TNODES: 1 (still allocated 1)
TNODE: 0x611000008740 rcount = 1 rcount2 = 0 serno = 1 ACCESSIBLE "struct" base type = "" next = (nil)
MAX ENODES: 0 (still allocated 0)
SHARE TNODE: sharing tnode serno = 1, new rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(share_tnode+0x1e7) [0x562b44]
	  2: ./sl(take_ownership_of_all_tnodes+0x21) [0x561e17]
	  3: ./sl() [0x414616]
	  4: ./sl(new_thrcode_from_file+0x2a9) [0x46385e]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]
DELETE TNODE: deleting tnode serno = 1, rcount = 2
	  0: /usr/lib/x86_64-linux-gnu/libasan.so.2(+0x4a077) [0x7f607a7dd077]
	  1: ./sl(delete_tnode+0x197) [0x560d50]
	  2: ./sl(delete_all_tnodes+0x4d) [0x561e9a]
	  3: ./sl() [0x41462a]
	  4: ./sl(new_thrcode_from_file+0x2a9) [0x46385e]
	  5: ./sl(main+0xa5d) [0x412de2]
	  6: /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f607a1e5830]
	  7: ./sl(_start+0x29) [0x4114f9]

After deleting nodes:
STRPOOL LENGTH: 4
MAX DNODES: 19 (still allocated 0)
MAX TNODES: 1 (still allocated 1)
TNODE: 0x611000008740 rcount = 1 rcount2 = 0 serno = 1 ACCESSIBLE "struct" base type = "" next = (nil)
MAX ENODES: 0 (still allocated 0)

=================================================================
==7681==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 224 byte(s) in 1 object(s) allocated from:
    #0 0x7f607a82b79a in __interceptor_calloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x9879a)
    #1 0x58d027 in callocx /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/cexceptions/allocx.c:53
    #2 0x560130 in alloc_tnode tnode_a.ci:84
    #3 0x562d50 in new_tnode interpreters/packed-type/tnode.c:378
    #4 0x562e7a in new_tnode_forward interpreters/packed-type/tnode.c:386
    #5 0x43857b in compiler_insert_new_type /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:7340
    #6 0x44dbc9 in yyparse /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:11180
    #7 0x462d86 in compiler_compile_file /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:15430
    #8 0x46373a in new_thrcode_from_file /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:15500
    #9 0x412de1 in main programs/sl.c:409
    #10 0x7f607a1e582f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2082f)

Indirect leak of 7 byte(s) in 1 object(s) allocated from:
    #0 0x7f607a82b602 in malloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x98602)
    #1 0x58cfa5 in mallocx /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/cexceptions/allocx.c:28
    #2 0x58cf2c in strdupx /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/cexceptions/stringx.c:24
    #3 0x562efa in new_tnode_forward interpreters/packed-type/tnode.c:390
    #4 0x43857b in compiler_insert_new_type /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:7340
    #5 0x44dbc9 in yyparse /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:11180
    #6 0x462d86 in compiler_compile_file /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:15430
    #7 0x46373a in new_thrcode_from_file /home/saulius/src/compilers/branches/saulius-fight-memory-leaks/starta/grammar.y:15500
    #8 0x412de1 in main programs/sl.c:409
    #9 0x7f607a1e582f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2082f)

SUMMARY: AddressSanitizer: 231 byte(s) leaked in 2 allocation(s).
