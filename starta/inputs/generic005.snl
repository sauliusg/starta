
use * from std;

// The followinf function should compile without errors:

type T = generic ref;

function mini( point: T;
               ndim: long;

               makearray: function( length : long ) -> (array of T);
               makecenter: function( simplex: array of T; i: long )->(T)

             ) -> float, float
{
    var simplex: array [] of T = makearray( ndim+1L );

    simplex[0] = makecenter( simplex, 2 );

    return 0.0, 0.0;
}
